<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="./style.css">
    <script src="script.js"></script>
</head>
<body>
    <div class="container" id="navigationDiv">
        <div class="position-relative ">
            <div class="progress" role="progressbar" aria-label="Progress" aria-valuenow="50" aria-valuemin="0"
                aria-valuemax="100" style="height: 2px;">
                <div class="progress-bar bg-purple" style="width: 50%;"></div>
            </div>
            <button type="button"
                class="position-absolute top-0 start-0 translate-middle rounded-pill" id="navigationBar">1</button>
            <button type="button" 
                class="position-absolute top-0 start-50 translate-middle rounded-pill" id="navigationBar">2</button>
            <button type="button"
                class="position-absolute top-0 start-100 translate-middle rounded-pill" id="navigationBar" style="border-color: black;">3</button>
        </div>
    </div>

    <form class="detailsForm row g-3 w-auto" action = "./detailsSubmit.html" id="detailsForm">

        <div id="formValues" hidden></div>
    
        <script>
        const urlParams = new URLSearchParams(window.location.search);
        let previous = JSON.parse(localStorage.getItem("domain-form") || "{}") 
        for(const [key, value] of urlParams.entries()){
                previous[key] = value
            }

        localStorage.setItem("domain-form", JSON.stringify(previous))
        

        const domainName = urlParams.get('domainTitle');
        const selectDomain = urlParams.get('tld');
        let price = "  " + domainPrice(urlParams.get('tld')) + "  $";

        document.getElementById('formValues').innerHTML = `
            <p><b>Your domain:</b>
            <select name="domainData"><option>${domainName}${selectDomain}<strong>${price}</strong><option></select></p>`;
        </script>

        <div class="row d-flex justify-content-center">
            <div class="col-md-3">
                <label for="inputEmail4" class="form-label">Name</label>
                <input type="text" class="form-control" aria-label="First name" name="name">
            </div>
            <div class="col-md-3">
                <label for="inputEmail4" class="form-label">Surname</label>
                <input type="text" class="form-control" aria-label="Last name" name="surname">
            </div>
        </div>

        <div class="row d-flex justify-content-center">
            <div class="col-md-3">
                <label for="inputPassword4" class="form-label">Password</label>
                <input type="password" class="form-control" id="showPSWD1" name="password">
            </div>
            <div class="col-md-3">
                <label for="autoSizingInputGroup">Phone number</label>
                <div class="input-group" style="padding-top: 3%;">
                    <div class="input-group-text">+ 372</div>
                    <input type="phone" class="form-control" id="autoSizingInputGroup" name="phone">
                </div>
            </div>
        </div>

        <div class="row d-flex justify-content-center align-items-center">
            <div class="col-md-6" style="color: rgb(186, 149, 196);">
                <label for="inputEmail4" class="form-label text-center">E-mail</label>
                <input type="email" class="form-control" id="inputEmail4" name="email">
            </div>
        </div>

        <button class="backIndexButton" type="button" onclick="window.location.href='./index.html'">BACK</button>
        <button class="submitButtonForm" type="submit">NEXT</button>
        
    </form>

</body>
</html>